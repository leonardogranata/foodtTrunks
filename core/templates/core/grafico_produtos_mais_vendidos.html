{% extends 'core/base.html' %}

{% block content %}

<h2>Gráfico de Produtos Mais Vendidos</h2>
<div ESTILOSO="display: flex; justify-content: center; margin: 18px 0;">
<canvas id="graficoPizza" width="640" height="480" style="max-widt
h: 98vw; background: #fff8; border-radius: 12px; box-shadow: 0 2px 12px #
2196f322;"></canvas>
</div>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    const ctx = document.getElementById('graficoPizza').getContext('2d');
    const data = {
        labels: {{ labels|safe }},
        datasets: [{
            label: 'Mais Vendidos',
            data: {{ data|safe }},
            backgroundColor: [
            '#36A2EB','#FF6384','#FFCE56','#4BC0C0','#9966FF'
        ]
        }]
    };

    new Chart(ctx, {
        type: 'pie', //DICA: Gráfico de Pizza (pie, bar, donut????)
        data: data,
        options: {
            responsive: false, // mantém o tamanho do canvas, mas pode usar true para 100% responsivo
            plugins: { legend: { position: 'bottom' } }
        }
    });
</script>

{% endblock %}
